---
layout: DbExtensions-base
---
{% assign cp_parts = page.path | split: '/' %}
{% if cp_parts[1] == 'docs' and cp_parts[2] == 'api' %}
   {% assign api_docs = true %}
{% endif %}
<div class="container">
   <nav class="section-toc">
      {% if cp_parts.size >= 3 %}
         {% assign section_base = cp_parts | slice: 0,2 | join: '/' | prepend: '/' | append: '/' %}
         {% assign section = cp_parts[1] %}
         {% assign toc = site.data.DbExtensions_toc[section] %}
         {% include toc.html toc=toc base_url=section_base %}
      {% endif %}
   </nav>
   <main>
      <article {% if api_docs %}class="api"{% endif %}>
         <header>
            {% if api_docs %}
               {% assign url_parts = page.url | split: '/' %}
               {% assign path_parts = '' | split: '' %}
               {% assign offset = 4 %}
               {% assign size = url_parts.size %}
               {% assign end = size | minus: 2 %}
               {% assign crumbs = size | minus: offset %}
               {% if crumbs > 1 %}
            <nav class="breadcrumbs">
                  {% for i in (offset..end) %}
                     {% assign path_parts = path_parts | push: url_parts[i] %}
               <a href="/{{ cp_parts | slice: 0,3 | concat: path_parts | join: '/' }}/">{{ url_parts[i] }}</a>&nbsp; /&nbsp;
                  {% endfor %}
               <span>{{ page.title }}</span>
            </nav>
               {% endif %}
            {% endif %}
            {% unless api_docs %}
            <h1>{{ page.title }}</h1>
            {% endunless %}
         </header>
         <div itemprop="articleBody">
            <div class="content">
               {{ content }}
            </div>
         </div>
      </article>
   </main>
   <script src="/js/tree.js"></script>
   <script>
      (function(d) {
         var toc = d.querySelector('nav.section-toc ul[role="tree"]');
         var tree = new TreeLinks(toc);
         tree.init();
      })(document);
   </script>
</div>
